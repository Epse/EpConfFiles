(function() {
  var NewDraftView, NewFileView, NewPostView, path;

  path = require("path");

  NewFileView = require("../../lib/views/new-file-view");

  NewDraftView = require("../../lib/views/new-draft-view");

  NewPostView = require("../../lib/views/new-post-view");

  describe("NewFileView", function() {
    beforeEach(function() {
      return waitsForPromise(function() {
        return atom.workspace.open("empty.markdown");
      });
    });
    describe("NewFileView", function() {
      var newFileView;
      newFileView = null;
      beforeEach(function() {
        return newFileView = new NewFileView({});
      });
      return describe('.getFileName', function() {
        return it("get filename in hexo format", function() {
          atom.config.set("markdown-writer.newFileFileName", "file-{slug}{extension}");
          atom.config.set("markdown-writer.fileExtension", ".md");
          newFileView.titleEditor.setText("Hexo format");
          return expect(newFileView.getFileName()).toBe("file-hexo-format.md");
        });
      });
    });
    describe("NewDraftView", function() {
      var newDraftView;
      newDraftView = null;
      beforeEach(function() {
        return newDraftView = new NewDraftView({});
      });
      describe("class methods", function() {
        return it("override correctly", function() {
          expect(NewDraftView.fileType).toBe("Draft");
          expect(NewDraftView.pathConfig).toBe("siteDraftsDir");
          return expect(NewDraftView.fileNameConfig).toBe("newDraftFileName");
        });
      });
      describe(".display", function() {
        return it('display correct message', function() {
          newDraftView.display();
          newDraftView.dateEditor.setText("2015-08-23 11:19");
          newDraftView.titleEditor.setText("Draft Title");
          return expect(newDraftView.message.text()).toBe("Site Directory: " + (atom.project.getPaths()[0]) + "\nCreate Draft At: " + (path.join("_drafts", "draft-title.markdown")));
        });
      });
      return describe(".getFrontMatter", function() {
        return it("get the correct front matter", function() {
          var frontMatter;
          newDraftView.dateEditor.setText("2015-08-23 11:19");
          newDraftView.titleEditor.setText("Draft Title");
          frontMatter = newDraftView.getFrontMatter();
          expect(frontMatter.layout).toBe("post");
          expect(frontMatter.published).toBe(false);
          expect(frontMatter.title).toBe("Draft Title");
          expect(frontMatter.slug).toBe("draft-title");
          return expect(frontMatter.date).toBe("2015-08-23 11:19");
        });
      });
    });
    return describe("NewPostView", function() {
      var newPostView;
      newPostView = null;
      beforeEach(function() {
        return newPostView = new NewPostView({});
      });
      describe("class methods", function() {
        return it("override correctly", function() {
          expect(NewPostView.fileType).toBe("Post");
          expect(NewPostView.pathConfig).toBe("sitePostsDir");
          return expect(NewPostView.fileNameConfig).toBe("newPostFileName");
        });
      });
      describe(".display", function() {
        return it('display correct message', function() {
          newPostView.display();
          newPostView.dateEditor.setText("2015-08-23 11:19");
          newPostView.titleEditor.setText("Post's Title");
          return expect(newPostView.message.text()).toBe("Site Directory: " + (atom.project.getPaths()[0]) + "\nCreate Post At: " + (path.join("_posts", "2015", "2015-08-23-post-s-title.markdown")));
        });
      });
      return describe(".getFrontMatter", function() {
        return it("get the correct front matter", function() {
          var frontMatter;
          newPostView.dateEditor.setText("2015-08-24 11:19");
          newPostView.titleEditor.setText("Post's Title: Subtitle");
          frontMatter = newPostView.getFrontMatter();
          expect(frontMatter.layout).toBe("post");
          expect(frontMatter.published).toBe(true);
          expect(frontMatter.title).toBe("Post's Title: Subtitle");
          expect(frontMatter.slug).toBe("post-s-title-subtitle");
          return expect(frontMatter.date).toBe("2015-08-24 11:19");
        });
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2hvbWUvZXBzZS8uYXRvbS9wYWNrYWdlcy9tYXJrZG93bi13cml0ZXIvc3BlYy92aWV3cy9uZXctZmlsZS12aWV3LXNwZWMuY29mZmVlIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLDRDQUFBOztBQUFBLEVBQUEsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBQVAsQ0FBQTs7QUFBQSxFQUNBLFdBQUEsR0FBYyxPQUFBLENBQVEsK0JBQVIsQ0FEZCxDQUFBOztBQUFBLEVBRUEsWUFBQSxHQUFlLE9BQUEsQ0FBUSxnQ0FBUixDQUZmLENBQUE7O0FBQUEsRUFHQSxXQUFBLEdBQWMsT0FBQSxDQUFRLCtCQUFSLENBSGQsQ0FBQTs7QUFBQSxFQUtBLFFBQUEsQ0FBUyxhQUFULEVBQXdCLFNBQUEsR0FBQTtBQUN0QixJQUFBLFVBQUEsQ0FBVyxTQUFBLEdBQUE7YUFDVCxlQUFBLENBQWdCLFNBQUEsR0FBQTtlQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBZixDQUFvQixnQkFBcEIsRUFBSDtNQUFBLENBQWhCLEVBRFM7SUFBQSxDQUFYLENBQUEsQ0FBQTtBQUFBLElBR0EsUUFBQSxDQUFTLGFBQVQsRUFBd0IsU0FBQSxHQUFBO0FBQ3RCLFVBQUEsV0FBQTtBQUFBLE1BQUEsV0FBQSxHQUFjLElBQWQsQ0FBQTtBQUFBLE1BRUEsVUFBQSxDQUFXLFNBQUEsR0FBQTtlQUNULFdBQUEsR0FBa0IsSUFBQSxXQUFBLENBQVksRUFBWixFQURUO01BQUEsQ0FBWCxDQUZBLENBQUE7YUFLQSxRQUFBLENBQVMsY0FBVCxFQUF5QixTQUFBLEdBQUE7ZUFDdkIsRUFBQSxDQUFHLDZCQUFILEVBQWtDLFNBQUEsR0FBQTtBQUNoQyxVQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBWixDQUFnQixpQ0FBaEIsRUFBbUQsd0JBQW5ELENBQUEsQ0FBQTtBQUFBLFVBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFaLENBQWdCLCtCQUFoQixFQUFpRCxLQUFqRCxDQURBLENBQUE7QUFBQSxVQUdBLFdBQVcsQ0FBQyxXQUFXLENBQUMsT0FBeEIsQ0FBZ0MsYUFBaEMsQ0FIQSxDQUFBO2lCQUlBLE1BQUEsQ0FBTyxXQUFXLENBQUMsV0FBWixDQUFBLENBQVAsQ0FBaUMsQ0FBQyxJQUFsQyxDQUF1QyxxQkFBdkMsRUFMZ0M7UUFBQSxDQUFsQyxFQUR1QjtNQUFBLENBQXpCLEVBTnNCO0lBQUEsQ0FBeEIsQ0FIQSxDQUFBO0FBQUEsSUFpQkEsUUFBQSxDQUFTLGNBQVQsRUFBeUIsU0FBQSxHQUFBO0FBQ3ZCLFVBQUEsWUFBQTtBQUFBLE1BQUEsWUFBQSxHQUFlLElBQWYsQ0FBQTtBQUFBLE1BRUEsVUFBQSxDQUFXLFNBQUEsR0FBQTtlQUNULFlBQUEsR0FBbUIsSUFBQSxZQUFBLENBQWEsRUFBYixFQURWO01BQUEsQ0FBWCxDQUZBLENBQUE7QUFBQSxNQUtBLFFBQUEsQ0FBUyxlQUFULEVBQTBCLFNBQUEsR0FBQTtlQUN4QixFQUFBLENBQUcsb0JBQUgsRUFBeUIsU0FBQSxHQUFBO0FBQ3ZCLFVBQUEsTUFBQSxDQUFPLFlBQVksQ0FBQyxRQUFwQixDQUE2QixDQUFDLElBQTlCLENBQW1DLE9BQW5DLENBQUEsQ0FBQTtBQUFBLFVBQ0EsTUFBQSxDQUFPLFlBQVksQ0FBQyxVQUFwQixDQUErQixDQUFDLElBQWhDLENBQXFDLGVBQXJDLENBREEsQ0FBQTtpQkFFQSxNQUFBLENBQU8sWUFBWSxDQUFDLGNBQXBCLENBQW1DLENBQUMsSUFBcEMsQ0FBeUMsa0JBQXpDLEVBSHVCO1FBQUEsQ0FBekIsRUFEd0I7TUFBQSxDQUExQixDQUxBLENBQUE7QUFBQSxNQVdBLFFBQUEsQ0FBUyxVQUFULEVBQXFCLFNBQUEsR0FBQTtlQUNuQixFQUFBLENBQUcseUJBQUgsRUFBOEIsU0FBQSxHQUFBO0FBQzVCLFVBQUEsWUFBWSxDQUFDLE9BQWIsQ0FBQSxDQUFBLENBQUE7QUFBQSxVQUVBLFlBQVksQ0FBQyxVQUFVLENBQUMsT0FBeEIsQ0FBZ0Msa0JBQWhDLENBRkEsQ0FBQTtBQUFBLFVBR0EsWUFBWSxDQUFDLFdBQVcsQ0FBQyxPQUF6QixDQUFpQyxhQUFqQyxDQUhBLENBQUE7aUJBS0EsTUFBQSxDQUFPLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBckIsQ0FBQSxDQUFQLENBQW1DLENBQUMsSUFBcEMsQ0FDUixrQkFBQSxHQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBYixDQUFBLENBQXdCLENBQUEsQ0FBQSxDQUF6QixDQUFqQixHQUE2QyxxQkFBN0MsR0FDVSxDQUFDLElBQUksQ0FBQyxJQUFMLENBQVUsU0FBVixFQUFxQixzQkFBckIsQ0FBRCxDQUZGLEVBTjRCO1FBQUEsQ0FBOUIsRUFEbUI7TUFBQSxDQUFyQixDQVhBLENBQUE7YUF1QkEsUUFBQSxDQUFTLGlCQUFULEVBQTRCLFNBQUEsR0FBQTtlQUMxQixFQUFBLENBQUcsOEJBQUgsRUFBbUMsU0FBQSxHQUFBO0FBQ2pDLGNBQUEsV0FBQTtBQUFBLFVBQUEsWUFBWSxDQUFDLFVBQVUsQ0FBQyxPQUF4QixDQUFnQyxrQkFBaEMsQ0FBQSxDQUFBO0FBQUEsVUFDQSxZQUFZLENBQUMsV0FBVyxDQUFDLE9BQXpCLENBQWlDLGFBQWpDLENBREEsQ0FBQTtBQUFBLFVBR0EsV0FBQSxHQUFjLFlBQVksQ0FBQyxjQUFiLENBQUEsQ0FIZCxDQUFBO0FBQUEsVUFJQSxNQUFBLENBQU8sV0FBVyxDQUFDLE1BQW5CLENBQTBCLENBQUMsSUFBM0IsQ0FBZ0MsTUFBaEMsQ0FKQSxDQUFBO0FBQUEsVUFLQSxNQUFBLENBQU8sV0FBVyxDQUFDLFNBQW5CLENBQTZCLENBQUMsSUFBOUIsQ0FBbUMsS0FBbkMsQ0FMQSxDQUFBO0FBQUEsVUFNQSxNQUFBLENBQU8sV0FBVyxDQUFDLEtBQW5CLENBQXlCLENBQUMsSUFBMUIsQ0FBK0IsYUFBL0IsQ0FOQSxDQUFBO0FBQUEsVUFPQSxNQUFBLENBQU8sV0FBVyxDQUFDLElBQW5CLENBQXdCLENBQUMsSUFBekIsQ0FBOEIsYUFBOUIsQ0FQQSxDQUFBO2lCQVFBLE1BQUEsQ0FBTyxXQUFXLENBQUMsSUFBbkIsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixrQkFBOUIsRUFUaUM7UUFBQSxDQUFuQyxFQUQwQjtNQUFBLENBQTVCLEVBeEJ1QjtJQUFBLENBQXpCLENBakJBLENBQUE7V0FxREEsUUFBQSxDQUFTLGFBQVQsRUFBd0IsU0FBQSxHQUFBO0FBQ3RCLFVBQUEsV0FBQTtBQUFBLE1BQUEsV0FBQSxHQUFjLElBQWQsQ0FBQTtBQUFBLE1BRUEsVUFBQSxDQUFXLFNBQUEsR0FBQTtlQUNULFdBQUEsR0FBa0IsSUFBQSxXQUFBLENBQVksRUFBWixFQURUO01BQUEsQ0FBWCxDQUZBLENBQUE7QUFBQSxNQUtBLFFBQUEsQ0FBUyxlQUFULEVBQTBCLFNBQUEsR0FBQTtlQUN4QixFQUFBLENBQUcsb0JBQUgsRUFBeUIsU0FBQSxHQUFBO0FBQ3ZCLFVBQUEsTUFBQSxDQUFPLFdBQVcsQ0FBQyxRQUFuQixDQUE0QixDQUFDLElBQTdCLENBQWtDLE1BQWxDLENBQUEsQ0FBQTtBQUFBLFVBQ0EsTUFBQSxDQUFPLFdBQVcsQ0FBQyxVQUFuQixDQUE4QixDQUFDLElBQS9CLENBQW9DLGNBQXBDLENBREEsQ0FBQTtpQkFFQSxNQUFBLENBQU8sV0FBVyxDQUFDLGNBQW5CLENBQWtDLENBQUMsSUFBbkMsQ0FBd0MsaUJBQXhDLEVBSHVCO1FBQUEsQ0FBekIsRUFEd0I7TUFBQSxDQUExQixDQUxBLENBQUE7QUFBQSxNQVdBLFFBQUEsQ0FBUyxVQUFULEVBQXFCLFNBQUEsR0FBQTtlQUNuQixFQUFBLENBQUcseUJBQUgsRUFBOEIsU0FBQSxHQUFBO0FBQzVCLFVBQUEsV0FBVyxDQUFDLE9BQVosQ0FBQSxDQUFBLENBQUE7QUFBQSxVQUVBLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBdkIsQ0FBK0Isa0JBQS9CLENBRkEsQ0FBQTtBQUFBLFVBR0EsV0FBVyxDQUFDLFdBQVcsQ0FBQyxPQUF4QixDQUFnQyxjQUFoQyxDQUhBLENBQUE7aUJBS0EsTUFBQSxDQUFPLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBcEIsQ0FBQSxDQUFQLENBQWtDLENBQUMsSUFBbkMsQ0FDUixrQkFBQSxHQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBYixDQUFBLENBQXdCLENBQUEsQ0FBQSxDQUF6QixDQUFqQixHQUE2QyxvQkFBN0MsR0FDUyxDQUFDLElBQUksQ0FBQyxJQUFMLENBQVUsUUFBVixFQUFvQixNQUFwQixFQUE0QixrQ0FBNUIsQ0FBRCxDQUZELEVBTjRCO1FBQUEsQ0FBOUIsRUFEbUI7TUFBQSxDQUFyQixDQVhBLENBQUE7YUF1QkEsUUFBQSxDQUFTLGlCQUFULEVBQTRCLFNBQUEsR0FBQTtlQUMxQixFQUFBLENBQUcsOEJBQUgsRUFBbUMsU0FBQSxHQUFBO0FBQ2pDLGNBQUEsV0FBQTtBQUFBLFVBQUEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUF2QixDQUErQixrQkFBL0IsQ0FBQSxDQUFBO0FBQUEsVUFDQSxXQUFXLENBQUMsV0FBVyxDQUFDLE9BQXhCLENBQWdDLHdCQUFoQyxDQURBLENBQUE7QUFBQSxVQUdBLFdBQUEsR0FBYyxXQUFXLENBQUMsY0FBWixDQUFBLENBSGQsQ0FBQTtBQUFBLFVBSUEsTUFBQSxDQUFPLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixDQUFDLElBQTNCLENBQWdDLE1BQWhDLENBSkEsQ0FBQTtBQUFBLFVBS0EsTUFBQSxDQUFPLFdBQVcsQ0FBQyxTQUFuQixDQUE2QixDQUFDLElBQTlCLENBQW1DLElBQW5DLENBTEEsQ0FBQTtBQUFBLFVBTUEsTUFBQSxDQUFPLFdBQVcsQ0FBQyxLQUFuQixDQUF5QixDQUFDLElBQTFCLENBQStCLHdCQUEvQixDQU5BLENBQUE7QUFBQSxVQU9BLE1BQUEsQ0FBTyxXQUFXLENBQUMsSUFBbkIsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4Qix1QkFBOUIsQ0FQQSxDQUFBO2lCQVFBLE1BQUEsQ0FBTyxXQUFXLENBQUMsSUFBbkIsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixrQkFBOUIsRUFUaUM7UUFBQSxDQUFuQyxFQUQwQjtNQUFBLENBQTVCLEVBeEJzQjtJQUFBLENBQXhCLEVBdERzQjtFQUFBLENBQXhCLENBTEEsQ0FBQTtBQUFBIgp9

//# sourceURL=/home/epse/.atom/packages/markdown-writer/spec/views/new-file-view-spec.coffee
